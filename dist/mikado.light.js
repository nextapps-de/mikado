/**!
 * Mikado.js v0.7.4 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var q;var w={},z={},A={},B={},C={};function D(a,b,c){if(!(this instanceof D))return new D(a,b,c);a.nodeType||(c=b,b=a,a=null);a?this.mount(a):(this.b=this.f=null,this.length=0);this.init(b,c)}var E=D.register=function(a,b){b||(b=a,a=b.n);z[a]=b;return D};D.prototype.mount=function(a){if(this.b!==a){this.key&&this.b&&(this.b._o=this.l,this.l=a._o||{});this.b=a;F(this);var b;if(!(b=a._d)){b=a.children;for(var c=b.length,d=Array(c),f=0,e;f<c;f++)e=b[f],d[f]=e;b=a._d=d}this.f=b;this.length=this.f.length}return this};
D.prototype.index=function(a){for(var b=0,c=this.length;b<c;b++)if(this.f[b]===a)return b;return-1};D.prototype.node=function(a){return this.f[a]};
D.prototype.init=function(a,b){"string"===typeof a?a=z[a]:(b||!a||a.n||(b=a,a=null),a?a.n&&E(a):a=z[this.v]);b||(b=this.C||{});this.B=!1!==b.reuse;this.state=b.state||w;this.cache=!1!==b.cache;this.C=b;var c=a.n;this.v!==c&&(this.v=c,this.o=a.d,this.w=this.g=null,this.A=!1!==b.prefetch&&G(this,a),F(this),this.l=(this.key=a.k)&&{},this.m=this.B&&!1!==b.pool&&(B[c]||(B[c]=[])),this.u=this.key&&(b.keep||this.m)&&(C[c]||(C[c]={})),this.size=this.m&&b.size);return this};
D.once=function(a,b,c,d,f){var e=new D(a,b);"function"===typeof d&&(f=d,d=null);if(f){var g=f;f=function(){e.destroy(1);g()}}e.render(c,d,f);f||e.destroy(1);return D};function F(a){if(a.b){var b=a.b._t;b!==a.v&&(a.b._t=a.v,b&&(a.l={},a.remove(0,a.length)))}}q=D.prototype;
q.create=function(a,b,c){var d=this.key,f=d&&a[d],e,g;if(d&&(g=this.u)&&(e=g[f]))if(g){if(g[f]=null,g=this.m){var l=e._n;e._n=null;var k=g.pop();k!==e&&(k._n=l,g[l]=k)}}else d=0;else if((e=this.m)&&e.length)e=e.pop(),g&&(e._n=null,g[e._k]=null);else{var r=1;(e=this.A)&&this.cache&&(e.$={})}this.apply(e,a,b,c);r&&(e=this.A.cloneNode(!0),this.cache&&(e.$=this.A.$));d&&(e._k=f,this.l[f]=e);return e};
q.apply=function(a,b,c,d){this.A||(this.A=a=G(this,z[this.v]));if(!this.o)return this.w(a._p||H(this,a),a.$,b,d,c),this};
q.render=function(a,b){var c=this.length;if(!a&&this.o)return this.f[0]||this.add(),this;var d=a.length;if("undefined"===typeof d)a=[a],d=1;else if(!d)return this.remove(0,c);var f=(this.u||!this.B)&&this.key;f||this.B||(this.remove(0,c,d),c=0);var e=c<d?c:d,g=0;if(g<e)for(;g<e;g++){var l=this.f[g],k=a[g];if(f&&l._k!==k[f])return this.reconcile(a,b,g,1);this.update(l,k,b,g)}if(g<d)for(;g<d;g++)this.add(a[g],b);else d<c&&this.remove(d,c-d);return this};
q.reconcile=function(a,b,c,d){var f=this.f,e=this.l,g=a.length,l=f.length,k=l>g?l:g,r=0,x=this.key;for(c||(c=0);c<k;c++){var n=void 0;if(c<g){var m=a[c],h=c>=l,p=void 0,t=void 0,y=void 0;if(!h&&(p=f[c],t=m[x],y=p._k,y===t)){d&&this.update(p,m,b,c);continue}if(d&&(h||!e[t])){h||!this.u?(l++,k=l>g?l:g,this.add(m,b,c)):this.replace(p,m,b,c);continue}for(var u=h=void 0,v=c+1;v<k;v++)if(!h&&v<l&&f[v]._k===t&&(h=v+1),!u&&v<g&&a[v][x]===y&&(u=v+1),h&&u){h>=u?(n=f[h-1],this.b.insertBefore(n,p),d&&this.update(n,
m,b,c),h===u?(1<v-c&&this.b.insertBefore(p,f[h]||null),f[c]=f[v],f[v]=p,d&&this.update(p,a[v],b,v)):(I(f,h-1,c),r++)):(m=u-1+r,this.b.insertBefore(p,f[m]||null),I(f,c,(m>l?l:m)-1),r--,c--);n=1;break}}n||(this.remove(c),l--,k=l>g?l:g,c--)}return this};function I(a,b,c,d){var f=d||a[b];d&&b++;if(b<c)for(;b<c;b++)a[b]=a[b+1];else for(;b>c;b--)a[b]=a[b-1];a[c]=f}
q.add=function(a,b,c,d){if(!d)if("number"===typeof b){c=b;b=null;var f=1}else if(c||0===c)f=1;c=d||f?c:this.length;a=this.create(a,b,c);f?(this.b.insertBefore(a,this.f[c]||null),I(this.f,this.length-1,c,a),this.length++):(d?this.b.replaceChild(a,d):(this.b.appendChild(a),this.length++),this.f[c]=a);return this};q.clear=function(){this.length&&this.remove(0,this.length);return this};q.destroy=function(a){a&&this.unload();this.length=0;this.l=this.A=this.w=this.g=this.v=this.b=this.f=null};
q.append=function(a,b,c){if("number"===typeof b){c=b;b=null;var d=1}else d=c||0===c;for(var f=a.length,e=0;e<f;e++)this.add(a[e],b,d?c++:null);return this};
q.remove=function(a,b,c){var d=this.length;a&&("object"===typeof a?a=this.index(a):0>a&&(a=d+a-1));if(!d||a>=d)return this;b?0>b&&(a-=b+1,0>a&&(a=0),b*=-1):b=1;!a&&b>=d?(a=this.f,b=a.length,this.b.textContent="",this.b._d=this.f=c?Array(c):[],d=0):(a=this.f.splice(a,b),d-=b);this.length=d;if(this.m&&!this.u&&1<b){c=a;for(var f=c.length,e=f/2|0,g=0,l;g<e;g++)l=c[g],c[g]=c[f-g-1],c[f-g-1]=l}for(c=0;c<b;c++)f=a[c],d&&this.b.removeChild(f),J(this,f);return this};
function J(a,b){if(a.key){var c=b._k;a.l[c]=null;a.u&&(a.u[c]=b)}a.m&&(c=a.m.length,!a.size||c<a.size)&&(a.u&&(b._n=c),a.m[c]=b)}q.replace=function(a,b,c,d){"undefined"===typeof d&&("number"===typeof a?(d=a,a=this.f[d]):d=this.index(a));this.add(b,c,d,a);J(this,a);return this};q.update=function(a,b,c,d){"undefined"===typeof d&&("number"===typeof a?(d=a,a=this.f[a]):d=this.index(a));if(this.key){var f=a._k,e=b[this.key];f!==e&&(this.l[f]=null,this.l[e]=a,a._k=e)}return this.apply(a,b,c,d)};
function H(a,b){for(var c=a.g.length,d={},f=Array(c),e=0,g;e<c;e++){g=a.g[e];var l=e,k;if(!(k=d[g])){k=b;for(var r=0,x=g.length,n="";r<x;r++){var m=g[r];n+=m;d[n]?k=d[n]:(">"===m?k=k.firstElementChild:"+"===m?k=k.nextElementSibling:"|"===m&&(k=k.firstChild),d[n]=k)}}f[l]=k}return b._p=f}var K;
function G(a,b,c,d,f){if(!c){var e=A[b.n+(a.cache?"$":"")];if(e)return a.w=e.w,a.o=e.o,a.g=e.g,e.node}e=document.createElement(b.t||"div");c||(c=0,d="&",K="",a.g=[],e._p=f=[],a.cache&&(e.$={}));var g=b.s,l=b.i,k=b.x,r=b.h,x=b.a,n=b.c,m=b.j,h=a.g.length,p=0,t="";m&&(t+=";"+m,-1<t.indexOf("self")&&(p=2));n&&("object"===typeof n?(n=n[0],t+=a.cache?";v="+n+";if(s._c"+h+"!==v){s._c"+h+"=v;self.className=v}":";self.className="+n,p++):e.className=n);if(x){var y;x&&(y=Object.keys(x));for(n=0;n<y.length;n++){m=
y[n];var u=void 0;!x||(u=x[m]);"object"===typeof u?(u=u[0],t+=a.cache?";v="+u+";if(s['_a_"+m+h+"']!==v){s['_a_"+m+h+"']=v;self.setAttribute('"+m+"',v)}":";self.setAttribute('"+m+"',"+u+")",p++):e.setAttribute(m,u)}}g&&("string"===typeof g?e.style.cssText=g:g.length&&(g=g[0],t+=a.cache?";v="+g+";if(s._cs"+h+"!==v){s._cs"+h+"=v;(self._s||(self._s=self.style)).cssText=v}":";self.style.cssText="+g,p++));l||(k?((y="object"===typeof k)&&(k=k[0]),g=document.createTextNode(k),y&&(p&&h++,a.g[h]=d+"|",f[h]=
g,L(p,a.cache?";v="+k+";if(s._x"+h+"!==v){s._x"+h+"=v;self.nodeValue=v}":";self.nodeValue="+k,h),p&&h--),e.appendChild(g)):r&&("object"===typeof r?(r=r[0],t+=a.cache?";v="+r+";if(s._h"+h+"!==v){s._h"+h+"=v;self.innerHTML=v}":";self.innerHTML="+r,p++):e.innerHTML=r));p?(a.g[h]=d,f[h]=e,a.o=0,L(p,t,h)):t&&(K+=t);if(l)if(l.length)for(k=">",h=0;h<l.length;h++)h&&(k+="+"),p=l[h],e.appendChild(G(a,p,c+h+1,d+k,f));else e.appendChild(G(a,l,c+1,d+">",f));c||(!a.o&&K&&(a.w=Function("p","s","data","index","view",
'"use strict";var self,v'+K)),A[b.n+(a.cache?"$":"")]={w:a.w,o:a.o,g:a.g,node:e});return e}function L(a,b,c){K=1<a?K+(";self=p["+c+"]"+b):K+b.replace(/self/g,"p["+c+"]")}D.prototype.unload=function(a){a?"object"===typeof a&&(a=a.n):a=this.v;a&&(z[a]=null,B[a]=C[a]=A[a]=null,A[a+"$"]=null);return this};D.unregister=D.unload=D.prototype.unload;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return D}):(b=a.modules)?b.mikado=D:"object"===typeof a.exports?a.module.exports=D:a.Mikado=D})();}).call(this);
